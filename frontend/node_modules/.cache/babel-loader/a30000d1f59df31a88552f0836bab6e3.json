{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u5927\\u4E09\\u4E0A\\\\\\u533A\\u5757\\u94FE\\\\\\u5927\\u4F5C\\u4E1A\\\\NFT-Characters-Auction-main\\\\NFT-Characters-Auction-main\\\\frontend\\\\src\\\\pages\\\\Login\\\\Create.jsx\";\nimport React, { Component } from 'react';\nimport CardExampleCard from './ui';\nimport { Card, Button, Layout, Col, Row, Form, Input, Checkbox, List, Image, Slider, InputNumber } from 'antd';\nimport { FormOutlined, DollarCircleOutlined, SketchOutlined, QuestionCircleOutlined, LeftOutlined } from '@ant-design/icons';\nimport Background from './123.jpeg';\nimport { Link } from 'react-router-dom';\nimport { Color } from '@antv/attr';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\n\nlet web3 = require('./web3');\n\nlet lotteryInstance = require('./eth');\n\nconst {\n  Content\n} = Layout;\nconst data = [{\n  title: 'Title 1'\n}, {\n  title: 'Title 2'\n}, {\n  title: 'Title 3'\n}, {\n  title: 'Title 4'\n}, {\n  title: 'Title 5'\n}, {\n  title: 'Title 6'\n}];\n\nfor (let i = 0; i < 23; i++) {\n  data.push({\n    title: 'Title' + i\n  });\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.onFinish = async () => {\n      let accounts = await web3.eth.getAccounts();\n\n      try {\n        await lotteryInstance.methods.createNewCharacter(this.state.name, this.state.imgurl, this.state.magic, this.state.strength, this.state.intelligence, this.state.luck).send({\n          from: accounts[0],\n          value: web3.utils.toWei('0.1', 'ether'),\n          gas: '3000000'\n        });\n        alert(\"Create success!\");\n      } catch (e) {\n        alert(\"Create fail!\");\n      }\n    };\n\n    this.onFinishFailed = () => {};\n\n    this.nameChange = value => {\n      this.setState({\n        name: value.target.value\n      });\n    };\n\n    this.reload = () => {\n      this.setState({});\n    };\n\n    this.imgurlChange = value => {\n      console.log(value.target.value);\n      this.setState({\n        imgurl: value.target.value\n      });\n    };\n\n    this.magicChange = value => {\n      this.setState({\n        magic: value\n      });\n    };\n\n    this.strengthChange = value => {\n      this.setState({\n        strength: value\n      });\n    };\n\n    this.intelligenceChange = value => {\n      this.setState({\n        intelligence: value\n      });\n    };\n\n    this.luckChange = value => {\n      this.setState({\n        luck: value\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      imgurl: \"\",\n      type: \"\",\n      magic: 0,\n      strength: 0,\n      intelligence: 0,\n      luck: 0\n    };\n  }\n\n  async componentWillMount() {\n    // //获取当前的所有地址\n    let accounts = await web3.eth.getAccounts();\n\n    if (accounts.length != 0) {\n      console.log(accounts.length);\n      this.state.disabled = false;\n    }\n\n    this.setState({});\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-content-wrap2\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Create Character\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-content-wrap53\",\n        style: {},\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginLeft: 20,\n            marginTop: 10\n          },\n          shape: \"round\",\n          ghost: true,\n          type: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: \"/List\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(LeftOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-content-wrap5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-content-wrapr\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"body\",\n            className: \"login-form\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              initialValues: {\n                remember: true\n              },\n              onFinish: this.onFinish,\n              children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Name:\",\n                name: \"name\",\n                rules: [{\n                  required: true,\n                  message: 'Please input the name of your character'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  value: this.state.name,\n                  onChange: this.nameChange,\n                  placeholder: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                label: \"Imgurl:\",\n                name: \"imgurl\",\n                rules: [{\n                  required: true,\n                  message: 'Please input the imgurl'\n                }],\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  value: this.state.imgrul,\n                  onChange: this.imgurlChange,\n                  placeholder: \"imgurl\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  ghost: true,\n                  className: \"login-form-button2\",\n                  htmlType: \"submit\",\n                  type: \"primary\",\n                  shape: \"round\",\n                  size: \"large\",\n                  children: \"Create!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-content-wrapl\",\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            width: 300,\n            height: 400,\n            src: this.state.imgurl,\n            fallback: \"https://img.alicdn.com/tps/TB1pfG4IFXXXXc6XXXXXXXXXXXX.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-content-wraptips\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-form2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["E:/大三上/区块链/大作业/NFT-Characters-Auction-main/NFT-Characters-Auction-main/frontend/src/pages/Login/Create.jsx"],"names":["React","Component","CardExampleCard","Card","Button","Layout","Col","Row","Form","Input","Checkbox","List","Image","Slider","InputNumber","FormOutlined","DollarCircleOutlined","SketchOutlined","QuestionCircleOutlined","LeftOutlined","Background","Link","Color","Meta","web3","require","lotteryInstance","Content","data","title","i","push","App","constructor","onFinish","accounts","eth","getAccounts","methods","createNewCharacter","state","name","imgurl","magic","strength","intelligence","luck","send","from","value","utils","toWei","gas","alert","e","onFinishFailed","nameChange","setState","target","reload","imgurlChange","console","log","magicChange","strengthChange","intelligenceChange","luckChange","type","componentWillMount","length","disabled","render","textAlign","marginLeft","marginTop","pathname","remember","required","message","imgrul"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,MAA5B;AACA,SAAQC,IAAR,EAAcC,MAAd,EAAqBC,MAArB,EAA4BC,GAA5B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0CC,KAA1C,EAAgDC,QAAhD,EAA0DC,IAA1D,EAA+DC,KAA/D,EAAqEC,MAArE,EAA4EC,WAA5E,QAA8F,MAA9F;AACA,SAAQC,YAAR,EAAsBC,oBAAtB,EAA4CC,cAA5C,EAA2DC,sBAA3D,EAAmFC,YAAnF,QAAsG,mBAAtG;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAASC,KAAT,QAAsB,YAAtB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAASpB,IAAf;;AACA,IAAIqB,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAlB;;AACA,IAAIC,eAAe,GAAGD,OAAO,CAAC,OAAD,CAA7B;;AACA,MAAM;AAACE,EAAAA;AAAD,IAAatB,MAAnB;AAEA,MAAMuB,IAAI,GAAG,CACT;AACEC,EAAAA,KAAK,EAAE;AADT,CADS,EAIT;AACEA,EAAAA,KAAK,EAAE;AADT,CAJS,EAOT;AACEA,EAAAA,KAAK,EAAE;AADT,CAPS,EAUT;AACEA,EAAAA,KAAK,EAAE;AADT,CAVS,EAaT;AACEA,EAAAA,KAAK,EAAE;AADT,CAbS,EAgBT;AACEA,EAAAA,KAAK,EAAE;AADT,CAhBS,CAAb;;AAoBE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BF,EAAAA,IAAI,CAACG,IAAL,CAAU;AAENF,IAAAA,KAAK,EAAE,UAAQC;AAFT,GAAV;AAKD;;AACH,MAAME,GAAN,SAAkB/B,SAAlB,CAA4B;AAExBgC,EAAAA,WAAW,GAAG;AACV;;AADU,SA6BdC,QA7Bc,GA6BL,YAAS;AACd,UAAIC,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAArB;;AACA,UAAG;AACC,cAAMX,eAAe,CAACY,OAAhB,CAAwBC,kBAAxB,CAA2C,KAAKC,KAAL,CAAWC,IAAtD,EAA2D,KAAKD,KAAL,CAAWE,MAAtE,EAA6E,KAAKF,KAAL,CAAWG,KAAxF,EAA8F,KAAKH,KAAL,CAAWI,QAAzG,EAAkH,KAAKJ,KAAL,CAAWK,YAA7H,EAA0I,KAAKL,KAAL,CAAWM,IAArJ,EAA2JC,IAA3J,CAAgK;AAClKC,UAAAA,IAAI,EAAEb,QAAQ,CAAC,CAAD,CADoJ;AAElKc,UAAAA,KAAK,EAAEzB,IAAI,CAAC0B,KAAL,CAAWC,KAAX,CAAiB,KAAjB,EAAwB,OAAxB,CAF2J;AAGlKC,UAAAA,GAAG,EAAE;AAH6J,SAAhK,CAAN;AAKAC,QAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,OAPD,CAQA,OAAMC,CAAN,EAAQ;AACJD,QAAAA,KAAK,CAAC,cAAD,CAAL;AACH;AAEJ,KA3Ca;;AAAA,SA4CdE,cA5Cc,GA4CC,MAAI,CAElB,CA9Ca;;AAAA,SA+CdC,UA/Cc,GA+CFP,KAAD,IAAS;AAChB,WAAKQ,QAAL,CAAc;AACVhB,QAAAA,IAAI,EAACQ,KAAK,CAACS,MAAN,CAAaT;AADR,OAAd;AAGH,KAnDa;;AAAA,SAoDdU,MApDc,GAoDP,MAAI;AACP,WAAKF,QAAL,CAAc,EAAd;AAGH,KAxDa;;AAAA,SAyDdG,YAzDc,GAyDAX,KAAD,IAAS;AAClBY,MAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACS,MAAN,CAAaT,KAAzB;AACA,WAAKQ,QAAL,CAAc;AACVf,QAAAA,MAAM,EAACO,KAAK,CAACS,MAAN,CAAaT;AADV,OAAd;AAGH,KA9Da;;AAAA,SA+Ddc,WA/Dc,GA+DFd,KAAK,IAAE;AACf,WAAKQ,QAAL,CAAc;AACVd,QAAAA,KAAK,EAACM;AADI,OAAd;AAGH,KAnEa;;AAAA,SAoEde,cApEc,GAoECf,KAAK,IAAE;AAClB,WAAKQ,QAAL,CAAc;AACdb,QAAAA,QAAQ,EAACK;AADK,OAAd;AAGH,KAxEa;;AAAA,SAyEdgB,kBAzEc,GAyEKhB,KAAK,IAAE;AACtB,WAAKQ,QAAL,CAAc;AACVZ,QAAAA,YAAY,EAACI;AADH,OAAd;AAGH,KA7Ea;;AAAA,SA8EdiB,UA9Ec,GA8EHjB,KAAK,IAAE;AACd,WAAKQ,QAAL,CAAc;AACVX,QAAAA,IAAI,EAACG;AADK,OAAd;AAGH,KAlFa;;AAEV,SAAKT,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAE,EAFC;AAGTyB,MAAAA,IAAI,EAAE,EAHG;AAITxB,MAAAA,KAAK,EAAE,CAJE;AAKTC,MAAAA,QAAQ,EAAC,CALA;AAMTC,MAAAA,YAAY,EAAC,CANJ;AAOTC,MAAAA,IAAI,EAAE;AAPG,KAAb;AAYH;;AACuB,QAAlBsB,kBAAkB,GAAG;AAEvB;AACA,QAAIjC,QAAQ,GAAG,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAArB;;AACA,QAAGF,QAAQ,CAACkC,MAAT,IAAiB,CAApB,EAAsB;AAClBR,MAAAA,OAAO,CAACC,GAAR,CAAY3B,QAAQ,CAACkC,MAArB;AACA,WAAK7B,KAAL,CAAW8B,QAAX,GAAoB,KAApB;AACH;;AAED,SAAKb,QAAL,CAAc,EAAd;AAIH;;AAuDDc,EAAAA,MAAM,GAAG;AACL,wBAEI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BAEI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA,gBADJ,eACS;AAAA;AAAA;AAAA;AAAA,gBADT,eACc;AAAI,UAAA,KAAK,EAAE;AAACC,YAAAA,SAAS,EAAC;AAAX,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADd;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAMI;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAsC,QAAA,KAAK,EAAE,EAA7C;AAAA,+BAEI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAE;AAACC,YAAAA,UAAU,EAAE,EAAb;AAAiBC,YAAAA,SAAS,EAAC;AAA3B,WAAf;AAA+C,UAAA,KAAK,EAAC,OAArD;AAA6D,UAAA,KAAK,MAAlE;AAAmE,UAAA,IAAI,EAAC,SAAxE;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE;AAACC,cAAAA,QAAQ,EAAC;AAAV,aAAV;AAAA,oCACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,oBADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cANJ,eAeI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,iCACI;AAAK,YAAA,EAAE,EAAC,MAAR;AAAe,YAAA,SAAS,EAAC,YAAzB;AAAA,mCAEI,QAAC,IAAD;AACI,cAAA,aAAa,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eADnB;AAEI,cAAA,QAAQ,EAAE,KAAK1C,QAFnB;AAAA,sCAII,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAyB,gBAAA,IAAI,EAAC,MAA9B;AAAqC,gBAAA,KAAK,EACtC,CACI;AAAE2C,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,OAAO,EAAE;AAA3B,iBADJ,CADJ;AAAA,uCAKI,QAAC,KAAD;AAAO,kBAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWC,IAAzB;AAA+B,kBAAA,QAAQ,EAAE,KAAKe,UAA9C;AAA0D,kBAAA,WAAW,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,sBAJJ,eAWI,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,KAAK,EAAC,SAAjB;AAA2B,gBAAA,IAAI,EAAC,QAAhC;AAAyC,gBAAA,KAAK,EAC1C,CACI;AAAEqB,kBAAAA,QAAQ,EAAE,IAAZ;AAAkBC,kBAAAA,OAAO,EAAE;AAA3B,iBADJ,CADJ;AAAA,uCAMI,QAAC,KAAD;AAAO,kBAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWuC,MAAzB;AAAiC,kBAAA,QAAQ,EAAE,KAAKnB,YAAhD;AAA8D,kBAAA,WAAW,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,sBAXJ,eAmBI,QAAC,IAAD,CAAM,IAAN;AAAA,uCACI,QAAC,MAAD;AAAQ,kBAAA,KAAK,MAAb;AAAc,kBAAA,SAAS,EAAC,oBAAxB;AAA6C,kBAAA,QAAQ,EAAC,QAAtD;AAA+D,kBAAA,IAAI,EAAC,SAApE;AAA8E,kBAAA,KAAK,EAAC,OAApF;AAA4F,kBAAA,IAAI,EAAC,OAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eA+BI;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAqC,UAAA,KAAK,EAAE;AAACY,YAAAA,SAAS,EAAC;AAAX,WAA5C;AAAA,kCACA,QAAC,KAAD;AACI,YAAA,KAAK,EAAE,GADX;AAEI,YAAA,MAAM,EAAE,GAFZ;AAGI,YAAA,GAAG,EAAE,KAAKhC,KAAL,CAAWE,MAHpB;AAII,YAAA,QAAQ,EAAC;AAJb;AAAA;AAAA;AAAA;AAAA,kBADA,eAOA;AAAA;AAAA;AAAA;AAAA,kBAPA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/BJ,eAwCI;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAmEH;;AAzJuB;;AA4J5B,eAAeV,GAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport CardExampleCard from './ui'\r\nimport {Card, Button,Layout,Col,Row ,Form,Input,Checkbox, List,Image,Slider,InputNumber} from 'antd'\r\nimport {FormOutlined, DollarCircleOutlined, SketchOutlined,QuestionCircleOutlined ,LeftOutlined} from '@ant-design/icons'\r\nimport Background from './123.jpeg';\r\nimport {Link} from 'react-router-dom'\r\nimport { Color } from '@antv/attr';\r\nconst {Meta} = Card\r\nlet web3 = require('./web3');\r\nlet lotteryInstance = require('./eth')\r\nconst {Content } = Layout\r\n\r\nconst data = [\r\n    {\r\n      title: 'Title 1',\r\n    },\r\n    {\r\n      title: 'Title 2',\r\n    },\r\n    {\r\n      title: 'Title 3',\r\n    },\r\n    {\r\n      title: 'Title 4',\r\n    },\r\n    {\r\n      title: 'Title 5',\r\n    },\r\n    {\r\n      title: 'Title 6',\r\n    },\r\n  ];\r\n  for (let i = 0; i < 23; i++) {\r\n    data.push({\r\n        \r\n        title: 'Title'+i,\r\n        \r\n      });\r\n  }\r\nclass App extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: \"\",\r\n            imgurl: \"\",\r\n            type: \"\",\r\n            magic: 0,\r\n            strength:0,\r\n            intelligence:0,\r\n            luck: 0,\r\n\r\n            \r\n\r\n        };\r\n    }\r\n    async componentWillMount() {\r\n        \r\n        // //获取当前的所有地址\r\n        let accounts = await web3.eth.getAccounts()\r\n        if(accounts.length!=0){\r\n            console.log(accounts.length)\r\n            this.state.disabled=false;\r\n        }\r\n        \r\n        this.setState({\r\n            \r\n        })\r\n        \r\n    }\r\n    onFinish=async()=>{\r\n        let accounts = await web3.eth.getAccounts()\r\n        try{\r\n            await lotteryInstance.methods.createNewCharacter(this.state.name,this.state.imgurl,this.state.magic,this.state.strength,this.state.intelligence,this.state.luck).send({\r\n                from: accounts[0],\r\n                value: web3.utils.toWei('0.1', 'ether'),\r\n                gas: '3000000',\r\n            })\r\n            alert(\"Create success!\");\r\n        }\r\n        catch(e){\r\n            alert(\"Create fail!\");\r\n        }\r\n        \r\n    }\r\n    onFinishFailed=()=>{\r\n        \r\n    }\r\n    nameChange=(value)=>{\r\n        this.setState({\r\n            name:value.target.value\r\n        })\r\n    }\r\n    reload=()=>{\r\n        this.setState({\r\n\r\n        })\r\n    }\r\n    imgurlChange=(value)=>{\r\n        console.log(value.target.value)\r\n        this.setState({\r\n            imgurl:value.target.value,\r\n        })\r\n    }\r\n    magicChange=value=>{\r\n        this.setState({\r\n            magic:value,\r\n        })\r\n    }\r\n    strengthChange=value=>{\r\n        this.setState({\r\n        strength:value,\r\n        })\r\n    }\r\n    intelligenceChange=value=>{\r\n        this.setState({\r\n            intelligence:value,\r\n        })\r\n    }\r\n    luckChange=value=>{\r\n        this.setState({\r\n            luck:value,\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            \r\n            <div className=\"login2\">\r\n                \r\n                <div className=\"login-content-wrap2\">\r\n                    <br/><br/><h1 style={{textAlign:\"center\"}} >Create Character</h1>\r\n                    \r\n                </div>\r\n                <div className=\"login-content-wrap53\" style={{}}>\r\n                    \r\n                    <Button style={{marginLeft: 20, marginTop:10}} shape=\"round\" ghost type=\"primary\">\r\n                        <Link to={{pathname:\"/List\"}}>\r\n                            <LeftOutlined />Back\r\n                        </Link>    \r\n                    </Button>\r\n\r\n                </div>\r\n                <div className=\"login-content-wrap5\">\r\n                    <div className=\"login-content-wrapr\">\r\n                        <div id=\"body\" className=\"login-form\">\r\n                            \r\n                            <Form\r\n                                initialValues={{ remember: true }}\r\n                                onFinish={this.onFinish}>\r\n                                \r\n                                <Form.Item label=\"Name:\" name=\"name\" rules={\r\n                                    [\r\n                                        { required: true, message: 'Please input the name of your character' }\r\n                                    ]\r\n                                }>\r\n                                    <Input value={this.state.name} onChange={this.nameChange} placeholder=\"name\" />\r\n                                </Form.Item>\r\n                                <Form.Item label=\"Imgurl:\" name=\"imgurl\" rules={\r\n                                    [\r\n                                        { required: true, message: 'Please input the imgurl' },\r\n\r\n                                    ]\r\n                                }>\r\n                                    <Input value={this.state.imgrul} onChange={this.imgurlChange} placeholder=\"imgurl\" />\r\n                                </Form.Item >\r\n                                <Form.Item>\r\n                                    <Button ghost className=\"login-form-button2\" htmlType=\"submit\" type=\"primary\" shape=\"round\" size='large'>\r\n                                        Create!\r\n                                    </Button>\r\n                                </Form.Item>\r\n                            </Form>\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"login-content-wrapl\" style={{textAlign:'center'}}>\r\n                    <Image\r\n                        width={300}\r\n                        height={400}\r\n                        src={this.state.imgurl}\r\n                        fallback=\"https://img.alicdn.com/tps/TB1pfG4IFXXXXc6XXXXXXXXXXXX.jpg\"\r\n                    />\r\n                    <br/>\r\n                    </div>\r\n                    <div className=\"login-content-wraptips\">\r\n                        <div className=\"login-form2\">\r\n                            {/* <h1>Tips:</h1> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}